<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Tue Jul 23 09:25:21 PDT 2024 -->
<title>ClientChannel.ClientHandshakeStep (Platform SDK Java 9.0 API Reference)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-07-23">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ClientChannel.ClientHandshakeStep (Platform SDK Java 9.0 API Reference)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ClientChannel.ClientHandshakeStep.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Platform SDK Java 9.0 API Reference</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.genesyslab.platform.commons.protocol</a></div>
<h2 title="Interface ClientChannel.ClientHandshakeStep" class="title">Interface ClientChannel.ClientHandshakeStep</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="ClientChannel.BasicClientHandshakeStep.html" title="class in com.genesyslab.platform.commons.protocol">ClientChannel.BasicClientHandshakeStep</a></code></dd>
</dl>
<dl>
<dt>Enclosing class:</dt>
<dd><a href="ClientChannel.html" title="class in com.genesyslab.platform.commons.protocol">ClientChannel</a></dd>
</dl>
<hr>
<pre>protected static interface <span class="typeNameLabel">ClientChannel.ClientHandshakeStep</span></pre>
<div class="block">Interface representing client side step of a protocol handshake procedure.

 <p/>Client handshake procedure is handled in a state machine way, where
 "state" is an instance of <code>ClientHandshakeStep</code>.<br/>
 A handshake procedure may consist of one or more "steps" which represent
 some registration iteration(s) like:<ul>
   <li>(step 1) sends RequestProtocolVersion and then handles <code>EventProtocolVersion</code> response.</li>
   <li>(step 2) sends RequestRegisterClient and then handles <code>EventClientRegistered</code>.</li>
   <li>etc.</li></ul>

 <p/>So, the usual handshake solution for particular is following:<ul>
   <li>Particular protocol contains one implementing class of the interface per its handshake step.</li>
   <li>It overloads <a href="ClientChannel.html#onOpen()"><code>ClientChannel.onOpen()</code></a>, where creates and sets
   (<a href="ClientChannel.html#setHandshakePhase(com.genesyslab.platform.commons.protocol.ClientChannel.ClientHandshakeStep)"><code>ClientChannel.setHandshakePhase(ClientHandshakeStep)</code></a>) the initial step/state.</li></ul>

 <p/>Common client channel handshake machine logic schema is:<code><pre>
 &#64;Override
 protected void onReceiveMessage(final Message msg) {
     if (handshakeState != null) {
         handshakeState = handshakeState.handleMessage(msg);
         if (handshakeState == null) {
             // handshake successfully finished
             finalyzeHandshake(); // switch channel from 'Opening' to 'Opened'
         }
     }
     ...
 }
 </pre></code></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="ClientChannel.BasicClientHandshakeStep.html" title="class in com.genesyslab.platform.commons.protocol"><code>ClientChannel.BasicClientHandshakeStep</code></a>, 
<a href="ClientChannel.html#setHandshakePhase(com.genesyslab.platform.commons.protocol.ClientChannel.ClientHandshakeStep)"><code>ClientChannel.setHandshakePhase(ClientHandshakeStep)</code></a>, 
<a href="ClientChannel.html#onOpen()"><code>ClientChannel.onOpen()</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="Message.html" title="class in com.genesyslab.platform.commons.protocol">Message</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getRegistrationRequest()">getRegistrationRequest</a></span>()</code></th>
<td class="colLast">
<div class="block">This method is intended to be used from <a href="#initState()"><code>initState()</code></a> to get
 a new instance of handshake request message.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="ClientChannel.ClientHandshakeStep.html" title="interface in com.genesyslab.platform.commons.protocol">ClientChannel.ClientHandshakeStep</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleMessage(com.genesyslab.platform.commons.protocol.Message)">handleMessage</a></span>&#8203;(<a href="Message.html" title="class in com.genesyslab.platform.commons.protocol">Message</a>&nbsp;event)</code></th>
<td class="colLast">
<div class="block">This method handles incoming message assuming it is a server response
 for the request by <a href="#initState()"><code>initState()</code></a>.<br/>
 It is responsible for the following operations:
   Check that the incoming message is a "successful" response to the request,
       extract store useful information like session id, server version, etc.
   If the message is an error message, it should throw appropriate exception.
   If the message is some acceptable unsolicited event, it may be
       passed through to user code.
   It returns <code>null</code> if handshake is successfully finished.
   It returns "self" reference to handle next incoming message with this state.
   It returns something like <code>(new NextStep()).initState()</code>
       to successfully pass this step and to switch to the next one.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="ClientChannel.ClientHandshakeStep.html" title="interface in com.genesyslab.platform.commons.protocol">ClientChannel.ClientHandshakeStep</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initState()">initState</a></span>()</code></th>
<td class="colLast">
<div class="block">General goal of this method is to send the request message and get ready
 to handle server response with <a href="#handleMessage(com.genesyslab.platform.commons.protocol.Message)"><code>handleMessage(Message)</code></a>.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="initState()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initState</h4>
<pre class="methodSignature"><a href="ClientChannel.ClientHandshakeStep.html" title="interface in com.genesyslab.platform.commons.protocol">ClientChannel.ClientHandshakeStep</a>&nbsp;initState()
                                     throws <a href="ProtocolException.html" title="class in com.genesyslab.platform.commons.protocol">ProtocolException</a></pre>
<div class="block">General goal of this method is to send the request message and get ready
 to handle server response with <a href="#handleMessage(com.genesyslab.platform.commons.protocol.Message)"><code>handleMessage(Message)</code></a>.
 <p/>Several variations of a handshake step:<ul>
   <li>one request with expected server response: this method sends
       the request message and returns reference to "self"
       to be able to receive server response.</li>
   <li>one request without server response: this method sends
       the request method and returns <code>null</code> in case of
       handshake finish, or "recursively" returns something like
       <code>(new NextStep()).initState()</code>
       if this step is not the last one.</li>
   <li>this step is switched off by some condition: it does not send
       the request and returns null if handshake is finished, or
       "recursively" returns something like <code>(new NextStep()).initState()</code>
       if this step is not the last one.</li>
 </ul>
 <p/>To get the request message before send, it uses virtual method
 <a href="#getRegistrationRequest()"><code>getRegistrationRequest()</code></a>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>step reference to wait for server response or <code>null</code>
         if there is no need to wait for any server response
         (handshake successfully finished).</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="ProtocolException.html" title="class in com.genesyslab.platform.commons.protocol">ProtocolException</a></code> - in case of problem on send of the request message.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#getRegistrationRequest()"><code>getRegistrationRequest()</code></a>, 
<a href="#handleMessage(com.genesyslab.platform.commons.protocol.Message)"><code>handleMessage(Message)</code></a></dd>
</dl>
</li>
</ul>
<a id="getRegistrationRequest()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRegistrationRequest</h4>
<pre class="methodSignature"><a href="Message.html" title="class in com.genesyslab.platform.commons.protocol">Message</a>&nbsp;getRegistrationRequest()
                        throws <a href="ProtocolException.html" title="class in com.genesyslab.platform.commons.protocol">ProtocolException</a></pre>
<div class="block">This method is intended to be used from <a href="#initState()"><code>initState()</code></a> to get
 a new instance of handshake request message.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>new instance of the request message</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="ProtocolException.html" title="class in com.genesyslab.platform.commons.protocol">ProtocolException</a></code></dd>
</dl>
</li>
</ul>
<a id="handleMessage(com.genesyslab.platform.commons.protocol.Message)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>handleMessage</h4>
<pre class="methodSignature"><a href="ClientChannel.ClientHandshakeStep.html" title="interface in com.genesyslab.platform.commons.protocol">ClientChannel.ClientHandshakeStep</a>&nbsp;handleMessage&#8203;(<a href="Message.html" title="class in com.genesyslab.platform.commons.protocol">Message</a>&nbsp;event)
                                         throws <a href="ProtocolException.html" title="class in com.genesyslab.platform.commons.protocol">ProtocolException</a></pre>
<div class="block">This method handles incoming message assuming it is a server response
 for the request by <a href="#initState()"><code>initState()</code></a>.<br/>
 It is responsible for the following operations:<ul>
   <li>Check that the incoming message is a "successful" response to the request,
       extract store useful information like session id, server version, etc.</li>
   <li>If the message is an error message, it should throw appropriate exception.</li>
   <li>If the message is some acceptable unsolicited event, it may be
       passed through to user code.</li>
   <li>It returns <code>null</code> if handshake is successfully finished.</li>
   <li>It returns "self" reference to handle next incoming message with this state.</li>
   <li>It returns something like <code>(new NextStep()).initState()</code>
       to successfully pass this step and to switch to the next one.</li></ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>event</code> - incoming message from the server side.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>next state or null in case of successful handshake finish.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="ProtocolException.html" title="class in com.genesyslab.platform.commons.protocol">ProtocolException</a></code> - in case of handshake error
         or in case of problem on send of next request message.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ClientChannel.ClientHandshakeStep.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Platform SDK Java 9.0 API Reference</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Send comments on this topic<a href=mailto:Techpubs.webadmin@genesys.com?subject=Platform%20SDK%209.0%20Documentation>Techpubs.webadmin@genesys.com.</a><br/>Document version: 9.0.010.00<br/>Copyright &copy; 2006&ndash;2023 Genesys Telecommunications Laboratories, Inc. All rights reserved.</small></p>
</footer>
</body>
</html>
