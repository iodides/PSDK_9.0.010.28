<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Tue Jul 23 09:25:21 PDT 2024 -->
<title>WarmStandbyConnectionFailureHandler (Platform SDK Java 9.0 API Reference)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2024-07-23">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="WarmStandbyConnectionFailureHandler (Platform SDK Java 9.0 API Reference)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WarmStandbyConnectionFailureHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Platform SDK Java 9.0 API Reference</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.genesyslab.platform.applicationblocks.warmstandby</a></div>
<h2 title="Interface WarmStandbyConnectionFailureHandler" class="title">Interface WarmStandbyConnectionFailureHandler</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public interface <span class="typeNameLabel">WarmStandbyConnectionFailureHandler</span></pre>
<div class="block">An interface to be implemented for the custom handling of connection
 failure events.

 <p/>Users can create their own algorithm to restore connection functionality
 by creating a custom implementation of the <code>WarmStandbyConnectionFailureHandler</code>
 interface and then configuring the <code>WarmStandbyService</code> instance to use it. The
 <code>WarmStandbyService</code> will call the custom implementation and provide failure
 context, so the user can specify whether to schedule the next reconnect task,
 switchover, or stop the service.

 <p/>Here are some samples of the handler implementation:

 <h3>Empty Handler Passing to Default Behavior</h3>
 <code><pre>
   class MyDummyFailureHandler
                   implements WarmStandbyConnectionFailureHandler {
       public boolean handleRegistrationFailure(
               WarmStandbyConnectionFailureContext context) {
           System.out.println(RegistrationFailure);
           return false;
       }
       public boolean handleConnectionFailure(
               WarmStandbyConnectionFailureContext context) {
           System.out.println(ConnectionFailure);
           return false;
       }
   }
 </pre></code>

 <p/><h3>Duplicate Default Behavior</h3>
 <code><pre>
   class MyDefaultFailureHandler
                   implements WarmStandbyConnectionFailureHandler {
       public boolean handleRegistrationFailure(
               WarmStandbyConnectionFailureContext context) {
           context.doStandbyOff();
           return true;
       }
       public boolean handleConnectionFailure(
               WarmStandbyConnectionFailureContext context) {
           WarmStandbyService service = context.getService();
           WarmStandbyConfiguration config =
               service.getConfiguration();

           if (service.getAttempt() &gt; config.getAttempts()) {
               Short cfgSwitchovers = config.getSwitchovers();
               if (cfgSwitchovers == null
                   || service.getSwitchover() &lt; cfgSwitchovers) {
                   context.doSwitchover();
               } else {
                   if (log.isDebug()) {
                       log.debug("Switchover "
                         + service.getSwitchover()
                         + " of " + cfgSwitchovers
                         + ", WarmStandbyService is stopped");
                   }
                   context.doStandbyOff();
                   return true;
               }
           }
           context.scheduleReconnect(config.getTimeout());
           return true;
       }
   }
 </pre></code>

 <p/><h3>Some synthetic handler with trick</h3>
 Scenario: A <code>WarmStandbyConfiguration</code> object for Genesys Configuration
 Server with an unavailable active server and with the wrong initial value
 for user password.

 <p/>In this scenario, we can create custom handler which performs fast switchover
 on connection failure, corrects the password on registration failure, and
 initiates a reconnect with the new password:
 <code><pre>
       final ConfServerProtocol cfgProtocol =
           new ConfServerProtocol(confEPBad1);
       cfgProtocol.setClientName("default");
       cfgProtocol.setClientApplicationType(CfgAppType.CFGSCE.ordinal());
       cfgProtocol.setUserName("default");
       cfgProtocol.setUserPassword("&lt;wrong-pass&gt;");
       cfgProtocol.setTimeout(2000);

       WarmStandbyConnectionFailureHandler handler =
           new WarmStandbyConnectionFailureHandler() {
               public boolean handleRegistrationFailure(
                       WarmStandbyConnectionFailureContext context) {
                   System.out.println("handleRegistrationFailure");
                   ((ConfServerProtocol) context.getService().getChannel())
                       .setUserPassword("&lt;good-password&gt;");
                   context.scheduleReconnect(100);
                   return true;
               }
               public boolean handleConnectionFailure(
                       WarmStandbyConnectionFailureContext context) {
                   System.out.println("handleConnectionFailure");
                   context.doSwitchover();
                   context.scheduleReconnect(100);
                   return true;
               }
       };

       WarmStandbyService service = new WarmStandbyService(cfgProtocol);
       WarmStandbyConfiguration config = new WarmStandbyConfiguration(
               confEPBad1, confEPGood1,
               1000, (short) 2, (short) 3);
       service.applyConfiguration(config);
       service.setConnectionFailureHandler(handler);
       service.start();
       cfgProtocol.beginOpen();
 </pre></code></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleConnectionFailure(com.genesyslab.platform.applicationblocks.warmstandby.WarmStandbyConnectionFailureContext)">handleConnectionFailure</a></span>&#8203;(<a href="WarmStandbyConnectionFailureContext.html" title="interface in com.genesyslab.platform.applicationblocks.warmstandby">WarmStandbyConnectionFailureContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">This call-back method is called in case of connection failure
 (except RegistrationException).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleRegistrationFailure(com.genesyslab.platform.applicationblocks.warmstandby.WarmStandbyConnectionFailureContext)">handleRegistrationFailure</a></span>&#8203;(<a href="WarmStandbyConnectionFailureContext.html" title="interface in com.genesyslab.platform.applicationblocks.warmstandby">WarmStandbyConnectionFailureContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">This call-back method is called in case of RegistrationException.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="handleRegistrationFailure(com.genesyslab.platform.applicationblocks.warmstandby.WarmStandbyConnectionFailureContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleRegistrationFailure</h4>
<pre class="methodSignature">boolean&nbsp;handleRegistrationFailure&#8203;(<a href="WarmStandbyConnectionFailureContext.html" title="interface in com.genesyslab.platform.applicationblocks.warmstandby">WarmStandbyConnectionFailureContext</a>&nbsp;context)</pre>
<div class="block">This call-back method is called in case of RegistrationException.
 It means that target server is available, but for some reason
 it does not allow the client connection. It may be caused by
 wrong login credentials, or some other exception while client
 registration procedure on opened connection.
 Usually it means that there is no need to try reconnect.
 <p/>
 Custom code may use provided context to access WarmStandbyService instance,
 to get WarmStandbyConfiguration, and the client protocol connection.
 Also the context allows user to schedule next reconnect task,
 switchover, or stop service.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - failure context</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the failure event is handled, or
         false if user wants to let the service to perform default
         operation for the event (stop the WarmStandby service)</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../commons/protocol/RegistrationException.html" title="class in com.genesyslab.platform.commons.protocol"><code>RegistrationException</code></a></dd>
</dl>
</li>
</ul>
<a id="handleConnectionFailure(com.genesyslab.platform.applicationblocks.warmstandby.WarmStandbyConnectionFailureContext)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>handleConnectionFailure</h4>
<pre class="methodSignature">boolean&nbsp;handleConnectionFailure&#8203;(<a href="WarmStandbyConnectionFailureContext.html" title="interface in com.genesyslab.platform.applicationblocks.warmstandby">WarmStandbyConnectionFailureContext</a>&nbsp;context)</pre>
<div class="block">This call-back method is called in case of connection failure
 (except RegistrationException).
 <p/>
 Custom code may use provided context to access WarmStandbyService instance,
 to get WarmStandbyConfiguration, and the client protocol connection.
 Also the context allows user to schedule next reconnect task,
 switchover, or stop service.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - failure context</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if the failure event is handled, or
         false if user wants to let the service to perform default
         operation for the event</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/WarmStandbyConnectionFailureHandler.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><b>Platform SDK Java 9.0 API Reference</b></div>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Send comments on this topic<a href=mailto:Techpubs.webadmin@genesys.com?subject=Platform%20SDK%209.0%20Documentation>Techpubs.webadmin@genesys.com.</a><br/>Document version: 9.0.010.00<br/>Copyright &copy; 2006&ndash;2023 Genesys Telecommunications Laboratories, Inc. All rights reserved.</small></p>
</footer>
</body>
</html>
